# Copyright David Abrahams, Daniel Wallin 2006. Distributed under the
# Boost Software License, Version 1.0. (See accompanying file
# LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)

# Boost Parameter Library test Jamfile

import python ;

project boost/parameter
  : default-build <warnings>off
  ;

build-project literate ;

alias parameter_all_but_python_tests
  :  [ run basics.cpp ]
     [ run compose.cpp ]
     [ run sfinae.cpp ]
     [ run macros.cpp ]
     [ run earwicker.cpp ]
     [ run tutorial.cpp ]
     [ run singular.cpp ]
     [ run mpl.cpp ]
     [ run preprocessor.cpp ]
     [ run preprocessor_deduced.cpp ]
     [ run efficiency.cpp : : : : : <variant>release ]
     [ run maybe.cpp ]
     [ run deduced.cpp ]
     [ run optional_deduced_sfinae.cpp ]
     [ run deduced_dependent_predicate.cpp ]
     [ run normalized_argument_types.cpp ]
     [ compile ntp.cpp ]
     [ compile function_type_tpl_param.cpp ]
     [ compile unwrap_cv_reference.cpp ]
     [ compile-fail duplicates.cpp ]
     [ compile-fail deduced_unmatched_arg.cpp ]
  ;

alias parameter_python_test
  :  [ bpl-test python_test ]
  ;

alias parameter
  :  parameter_all_but_python_tests
     parameter_python_test
  ;

alias parameter_msvc11_fail
  :  [ run-fail compose.cpp : : : <define>LIBS_PARAMETER_TEST_RUN_FAILURE : compose_fail_0 : <preserve-target-tests>off ]
     [ compile-fail compose.cpp : <define>LIBS_PARAMETER_TEST_COMPILE_FAILURE : compose_fail_1 ]
  ;

alias parameter_msvc11_tests
  :  parameter
     parameter_msvc11_fail
  ;

